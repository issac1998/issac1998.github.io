<!DOCTYPE html>
<html>
<head>
<title>2025-10-18-cv.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<style>
/* ...existing styles... */
.cv-section-title { margin-bottom: 0.8em; }
/* ...existing styles... */
</style>
<style>
/* 调整本文档的行高，按需改为 1.2 / 1.3 / 1.4 等 */
.markdown-body, .post-content, article {
  line-height: 1.3 !important;
}
.markdown-body p, .post-content p, article p {
  margin-bottom: 0.6em;
}

/* 列表项（markdown 中以 '-' 开头）行间距与间距调整 */
.markdown-body ul, .post-content ul {
  margin-top: 0.4em;
  margin-bottom: 0.8em;
}
.markdown-body li, .post-content li {
  line-height: 1.55;
  margin-bottom: 0.45em;
}

</style>
<table style="width:100%;">
  <tr>
    <td style="vertical-align:top; padding-right:20px;">
</td></tr></table><div style="text-align:center; font-weight:700; font-size:20px;">&#x6F58;&#x5146;&#x4E30;</div>
<div class="cv-contact" style="line-height:1.4;">
  <div>&#x6C42;&#x804C;&#x610F;&#x5411;&#xFF1A;    &#x540E;&#x7AEF;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&#xFF08;&#x4E1A;&#x52A1;&#x5F00;&#x53D1;&#x65B9;&#x5411;&#xFF09;</div>
  <div>&#x610F;&#x5411;&#x57CE;&#x5E02;&#xFF1A;    &#x676D;&#x5DDE; / &#x4E0A;&#x6D77; / &#x6D77;&#x5916;</div>
  <div>&#x5DE5;&#x4F5C;&#x7ECF;&#x9A8C;&#xFF1A;    1&#x5E74;4&#x4E2A;&#x6708;</div>
  <div>&#x51FA;&#x751F;&#x5E74;&#x6708;&#xFF1A;    1998/12</div>
  <div>&#x624B;&#x673A;&#x53F7;&#x7801;&#xFF1A;    15988788890&#xFF08;&#x5FAE;&#x4FE1;&#x540C;&#x53F7;&#xFF09;/ 18868846460</div>
  <div>&#x90AE;&#x7BB1;&#xFF1A;<a href="mailto:issacpan98@gmail.com">issacpan98@gmail.com</a></div>
</div>

<td style="width:140px; vertical-align:top; text-align:right;">
  <img src="file:///assets/IMG_8082.JPG" alt="&#x5934;&#x50CF;" style="width:140px; height:140px; object-fit:cover; border-radius:50%; border:2px solid #ddd;">
</td>
  

<h2 id="%E6%95%99%E8%82%B2%E7%BB%8F%E5%8E%86">教育经历</h2>
<div style="display:flex; justify-content:space-between; align-items:center;">
  <strong>&#x6D59;&#x6C5F;&#x5927;&#x5B66; &#x7855;&#x58EB; &#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B; </strong>
  <span style="white-space:nowrap;">2021.9&#x2013;2024.6</span>
</div>
<div style="display:flex; justify-content:space-between; align-items:center;">
  <strong>&#x6D59;&#x6C5F;&#x5DE5;&#x4E1A;&#x5927;&#x5B66; &#x672C;&#x79D1; &#x4FE1;&#x606F;&#x4E0E;&#x8BA1;&#x7B97;&#x79D1;&#x5B66; </strong>
  <span style="white-space:nowrap;">2017.9&#x2013;2021.7</span>
</div>
<h2 id="%E5%B7%A5%E4%BD%9C%E7%BB%8F%E5%8E%86">工作经历</h2>
<div style="display:flex; justify-content:space-between; align-items:center;">
  <strong>&#x6EF4;&#x6EF4;&#x51FA;&#x884C; &#x5B9E;&#x4E60;&#x751F; &#x57FA;&#x7840;&#x5E73;&#x53F0;-&#x6587;&#x4EF6;&#x5B58;&#x50A8; </strong>
  <span style="white-space:nowrap;">2022.11&#x2013;2024.05</span>
</div>
<div style="display:flex; justify-content:space-between; align-items:center;">
  <strong>&#x6EF4;&#x6EF4;&#x51FA;&#x884C; &#x540E;&#x7AEF;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08; &#x57FA;&#x7840;&#x5E73;&#x53F0;-&#x6587;&#x4EF6;&#x5B58;&#x50A8;</strong>
  <span style="white-space:nowrap;">2024.07&#x2013;2025.10</span>
</div>
<ul>
<li>部门产品为分布式对象/文件存储系统，大致可以分为四个模块：存储元数据的 MetaData Server (<strong>MS</strong>) 模块，存储数据的 Blob Server (<strong>BS</strong>) 模块，存储集群信息及 topo 结构的 Root Server (<strong>RS</strong>) 以及执行后台任务调度的 Background (<strong>BG</strong>) 模块。</li>
</ul>
<div style="display:flex; justify-content:space-between; align-items:center;margin-bottom:0.8em;">
  <strong>&#x79BB;&#x7EBF; EC &#x8FC1;&#x79FB;</strong>
  <span style="white-space:nowrap;">2024.07&#x2013;2024.10</span>
</div>
<p>背景： 业务早期阶段，数据由多副本进行冗余存储，存在资源浪费、读取无法条带化（striping）的问题，需要高效并可靠地将数据迁移至 EC（erasure coding，纠删码）存储。</p>
<p>主要工作：负责开发离线数据迁移模块，按分组粒度将数据从多副本迁移至EC。</p>
<p>挑战: 保证单分组十亿级别小文件的迁移效率，保证不漏迁、错迁。</p>
<p>解决:</p>
<ul>
<li>采用类似 Map-Reduce 的架构设计迁移模块。多个 Master 将待迁移数据 Hash 至多个 Migrate 中间表，多个 Worker 抢占任务执行迁移。</li>
<li>任务拆分为数据上传、校验、元数据更新等流水线，提高并发与吞吐率的同时保证正确性。</li>
</ul>
<p>思考: 为快速上线，部分功能未完备，例如缺乏前后台限流管理、动态扩缩容与幂等性校验等。</p>
<div style="display:flex; justify-content:space-between; align-items:center;margin-bottom:0.8em;">
  <strong>BS2.0 &#x5B58;&#x50A8;&#x5F15;&#x64CE;</strong>
  <span style="white-space:nowrap;">2024.11&#x2013;2025.10</span>
</div>
<p>背景：BS1.0基于小集群设计，每个集群由独立节点管理数据，运维成本高且磁盘利用率低。BS2.0采用大集群设计，所有数据由BG、RS统一管理，并新增了更多数据保障功能。</p>
<p>主要工作：</p>
<ul>
<li>设计并开发BS后台任务：包含数据校验、数据修复及并发垃圾回收。</li>
<li>为以上后台任务设计并开发调度框架，包含任务创建/查询/异常任务重启/限流等操作。</li>
<li>优化 BS2 读写性能，例如内存池及range-read的使用</li>
</ul>
<p>挑战:</p>
<ul>
<li>后台任务限流，需兼顾前台延迟与后台吞吐。</li>
<li>设计高效的任务调度框架，调度数十亿个数据副本的后台任务</li>
<li>实现高效的垃圾回收策略</li>
</ul>
<p>解决:</p>
<ul>
<li>后台任务限流从按磁盘类型的硬限制，演进为独立计算前后台流量、定期扫描自动调整前后台限流比例，同时通过预测前台延迟，在高负载时拒绝后台请求</li>
<li>RS通过将数据副本分区的方式减少单次调度处理的数据量，多个BG节点抢占分区分布式锁获取权限，从RS拉取集群信息进行检查并生成调度OP</li>
<li>RS通过BS心跳检查副本数是否完整，减轻数据修复过程中BG扫描压力</li>
<li>垃圾回收阶段进行两阶段回收，尽可能减少对写入的影响，并采用fallocate提前释放资源</li>
</ul>
<h2 id="%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86">项目经历</h2>
<p><strong>Go 实现消息队列</strong> 2025.07–2025.10</p>
<p>项目地址: <a href="https://github.com/issac1998/go-queue">https://github.com/issac1998/go-queue</a></p>
<ul>
<li>使用 Go 实现的强一致持久化消息队列，消息通过文件形式落盘，同一 topic 的不同 partition 由 Raft Group 管理，持久化在多台机器上</li>
<li>由 Controller 负责 partition 分配与重平衡</li>
<li>实现 Exactly-once、Consumer Group、Dead Letter、延时队列、生产/消费事务，同时支持消息压缩与去重等功能</li>
</ul>
<p><strong>秒杀系统设计</strong> 2025.09–2025.10</p>
<p>项目地址:  <a href="https://github.com/issac1998/mall">https://github.com/issac1998/mall</a></p>
<ul>
<li>秒杀系统的后端设计，涵盖用户登陆、下单、支付场景，实现秒杀库存扣减、订单创建流程。</li>
<li>使用消息队列实现削峰，并通过延时消息实现过期订单的检查</li>
<li>实现三种订单库存扣减策略：
<ol>
<li>Redis 预减库存，生成订单时扣减 Redis 库存，再定期同步至 MySQL；</li>
<li>Redis 预减库存，生成订单时通过乐观锁扣减 MySQL 库存；</li>
<li>服务器本地缓存库存数量预减，减少 Try 阶段对 Redis 的访问，生成订单时再扣减 Redis。</li>
</ol>
</li>
<li>实现秒杀商品分表策略，将活动分为多个 shard 以减轻单实例压力。</li>
<li>实现本地及基于Redis的全局限流，包含用户、IP、活动、总请求量等多个维度</li>
<li>提供排队、抽奖、限流、报错四种降级策略，后台30s一次根据活动库存及机器状态选择是否进行降级</li>
<li>提供完善的K6测试脚本，在容器内对不同方案进行测试</li>
</ul>

</body>
</html>
